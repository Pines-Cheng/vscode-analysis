(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{213:function(e,r,t){e.exports=t.p+"assets/img/electron-architecture.876dcbba.png"},214:function(e,r,t){e.exports=t.p+"assets/img/electron-process.13fda2d1.jpeg"},234:function(e,r,t){"use strict";t.r(r);var o=t(0),a=Object(o.a)({},(function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"技术介绍"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#技术介绍"}},[e._v("#")]),e._v(" 技术介绍")]),e._v(" "),o("p",[e._v("学习VSCode源码的同学基本上都是做前端工作的，那么node.js和javascript都是基本功了，这里不用过分强调了。但是在阅读VSCode源码之前，还是需要对VSCode使用相关技术框架有所了解。")]),e._v(" "),o("h2",{attrs:{id:"electron介绍"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#electron介绍"}},[e._v("#")]),e._v(" Electron介绍")]),e._v(" "),o("p",[e._v("众所周知，VSCode是一款桌面编辑器应用，但是前端单纯用js是做不了桌面应用的，所以采用"),o("a",{attrs:{href:"https://electronjs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Electron"),o("OutboundLink")],1),e._v("来构建。Electron是基于 Chromium 和 Node.js，使用 JavaScript, HTML 和 CSS 构建跨平台的桌面应用，它兼容 Mac、Windows 和 Linux，可以构建出三个平台的应用程序。\n"),o("img",{attrs:{src:t(213),alt:"electron-architecture"}}),e._v("\n从实现上来看，Electron = Node.js + Chromium + Native API")]),e._v(" "),o("p",[e._v("也就是说Electron拥有Node运行环境，赋予了用户与系统底层进行交互的能力，依靠Chromium提供基于Web技术（HTML、CSS、JS）的界面交互支持，另外还具有一些平台特性，比如桌面通知等。")]),e._v(" "),o("p",[o("img",{attrs:{src:t(214),alt:"electron-process"}})]),e._v(" "),o("p",[e._v("从API设计上来看，Electron App一般都有1个Main Process和多个Renderer Process：")]),e._v(" "),o("ul",[o("li",[e._v("main process：主进程环境下可以访问Node及Native API")]),e._v(" "),o("li",[e._v("renderer process：渲染器进程环境下可以访问Browser API和Node API及一部分Native API")])]),e._v(" "),o("h3",{attrs:{id:"主进程和渲染进程"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#主进程和渲染进程"}},[e._v("#")]),e._v(" 主进程和渲染进程")]),e._v(" "),o("p",[e._v("在Electron应用中，通过执行package.json中的main字段所指向的文件，可以开启electron的主进程（main process）。在主进程中使用BrowserWindow 实例创建web页面，而且一个electron应用有且只能有一个主进程。\n主进程一般用于：")]),e._v(" "),o("ul",[o("li",[e._v("多窗体管理（创建/切换）")]),e._v(" "),o("li",[e._v("应用生命周期管理")]),e._v(" "),o("li",[e._v("作为进程通信基站（IPC Server）")]),e._v(" "),o("li",[e._v("工具条菜单栏注册")])]),e._v(" "),o("p",[e._v("由于electron使用Chromium来展示web页面，Chromium多进程架构也会被用到。每一张web页面都运行在它自己的进程里，该进程称为渲染进程（renderer process）。渲染进程一般负责界面交互相关的，具体的业务功能。")]),e._v(" "),o("p",[e._v("在web页面里，调用系统底层的API是不被允许的，这是因为在web页面上处理底层GUI资源是非常危险的，很容易导致资源泄漏。如果你想要在web页面上执行GUI操作，相应web页面的渲染进程必须与主进程进行通信，向主进程发起请求去执行那些操作.在electron中，有几种主进程与渲染进程通信的方法，比如用ipcRenderer和ipcMain模块来发送信息，还有RPC风格的远程通信模块。关于Electron进程间通讯，这里不做过多的介绍，可以看Electron官网和网上资料来学习主进程和渲染进程间通讯。")]),e._v(" "),o("p",[e._v("更多的了解可以参考"),o("a",{attrs:{href:"https://electronjs.org/docs/tutorial/application-architecture#electron-%E5%BA%94%E7%94%A8%E6%9E%B6%E6%9E%84",target:"_blank",rel:"noopener noreferrer"}},[e._v("Electron应用架构"),o("OutboundLink")],1)]),e._v(" "),o("h2",{attrs:{id:"编辑器monaco-editor"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#编辑器monaco-editor"}},[e._v("#")]),e._v(" 编辑器Monaco Editor")]),e._v(" "),o("p",[e._v("微软之前有个项目叫做Monaco Workbench，后来这个项目变成了VSCode，而"),o("a",{attrs:{href:"https://microsoft.github.io/monaco-editor/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Monaco Editor"),o("OutboundLink")],1),e._v("（下文简称monaco）就是从这个项目中成长出来的一个web编辑器，他们很大一部分的代码（monaco-editor-core）都是共用的，所以monaco和VSCode在编辑代码，交互以及UI上几乎是一摸一样的，有点不同的是，两者的平台不一样，monaco基于浏览器，而VSCode基于electron，所以功能上VSCode更加健全，并且性能比较强大。")]),e._v(" "),o("h2",{attrs:{id:"typescript"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#typescript"}},[e._v("#")]),e._v(" TypeScript")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://www.tslang.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("TypeScript"),o("OutboundLink")],1),e._v("是JavaScript类型的超集，它可以编译成纯JavaScript。TypeScript可以在任何浏览器、任何计算机和任何操作系统中运行，并且是开源的。TypeScript具有以下特点：")]),e._v(" "),o("ul",[o("li",[e._v("类型批注和编译时的类型检查")]),e._v(" "),o("li",[e._v("强类型语言")]),e._v(" "),o("li",[e._v("面向对象")]),e._v(" "),o("li",[e._v("类class")]),e._v(" "),o("li",[e._v("接口")]),e._v(" "),o("li",[e._v("lambda函数")]),e._v(" "),o("li",[e._v("泛型")])]),e._v(" "),o("p",[e._v("VSCode源码的编写主要用TypeScript，所以学习VSCode源码的时候还是先对TypeScript的基本使用有所了解。")]),e._v(" "),o("p",[e._v("以上内容是学习VSCode源码所要了解的基本内容，可以先学习Electron做个简单的桌面应用，然后学习一下TypeScript的基本语法，就可以开始VSCode源码的学习。")])])}),[],!1,null,null,null);r.default=a.exports}}]);